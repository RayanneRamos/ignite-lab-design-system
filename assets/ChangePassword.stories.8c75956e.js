var N=Object.defineProperty;var n=(o,s)=>N(o,"name",{value:s,configurable:!0});import{c as b,a as p,u as v,b as P,L as C,d as u,o as T,e as I,l as S,w as q,f,g as B,h as L}from"./index.43cf3e11.js";import{r as j}from"./index.686e3c45.js";import{B as E}from"./Button.98f8c281.js";import{H as F}from"./Heading.b3c61242.js";import{T as a}from"./Text.a4697c1d.js";import{T as t}from"./TextInput.ad772a7a.js";import{a as r,j as e}from"./jsx-runtime.e08c5eff.js";import{L as g}from"./Lock.esm.0e24ccc8.js";import"./iframe.ce791a42.js";import"./index.364eb4bc.js";import"./index.eca5eaea.js";import"./es.map.constructor.9d75dc7e.js";import"./index.b722782d.js";import"./index.module.10ffe356.js";import"./clsx.m.256e9345.js";import"./IconBase.esm.038ad357.js";const k=b({password:p().required("This field is required"),confirmPassword:p().required("This field is required")}).required();function z(){var d,h;const[o,s]=j.exports.useState(!1),i=v(),{register:c,handleSubmit:x,formState:{errors:m}}=P({resolver:T(k),mode:"onSubmit"}),w=n(l=>console.log(l),"onSubmit");async function y(l){l.preventDefault(),await I.put("/changepassword",{password:"123456789",confirmPassword:"123456789"}),s(!0),i("/")}return n(y,"handleChangePassword"),r("div",{className:"w-screen h-screen bg-gray-900 flex items-center justify-center text-gray-100 flex-col",children:[r("header",{className:"flex flex-col items-center",children:[e(C,{}),e(F,{size:"lg",className:"mt-4",children:"Ignite Lab"}),e(a,{size:"lg",className:"text-gray-400 mt-1",children:"Crie uma nova senha"})]}),r("form",{onSubmit:y,className:"flex flex-col items-stretch w-full max-w-sm mt-10 gap-4",children:[o&&e(a,{children:"Nova senha criada com sucesso!"}),r("label",{htmlFor:"password",className:"flex flex-col gap-3",children:[e(a,{className:"font-semibold",children:"Nova senha"}),r(t.Root,{children:[e(t.Icon,{children:e(g,{})}),e(t.Input,{type:"password",id:"password",placeholder:"*********",...c("password")})]}),e(a,{className:"font-semibold text-red-300",children:(d=m.password)==null?void 0:d.message})]}),r("label",{htmlFor:"confirmPassword",className:"flex flex-col gap-3",children:[e(a,{className:"font-semibold",children:"Cofirme a nova senha"}),r(t.Root,{children:[e(t.Icon,{children:e(g,{})}),e(t.Input,{type:"password",id:"confirmPassword",placeholder:"*********",...c("confirmPassword")})]}),e(a,{className:"font-semibold text-red-300",children:(h=m.confirmPassword)==null?void 0:h.message})]}),e(E,{onClick:x(w),type:"submit",className:"mt-4",children:"Mudar senha"})]}),r("footer",{className:"flex flex-col items-center gap-4 mt-8",children:[e(a,{asChild:!0,size:"sm",children:e(u,{to:"/",className:"text-gray-400 underline hover:text-gray-200",children:"Tem conta? Fa\xE7a login agora"})}),e(a,{asChild:!0,size:"sm",children:e(u,{to:"/register",className:"text-gray-400 underline hover:text-gray-200",children:"N\xE3o possui conta? Crie uma agora"})})]})]})}n(z,"ChangePassword");const Z={title:"Pages/ Change password",component:z,args:{},argTypes:{},parameters:{msw:{handlers:[S.rest.put("/changepassword",(o,s,i)=>s(i.json({massage:"Senha mudada com sucesso!"})))]}}},ee={play:async({canvasElement:o})=>{const s=q(o);f.type(s.getByPlaceholderText("*********"),"123456789"),f.click(s.getByRole("button")),await B(()=>{L(s.getByText("Senha mudada com sucesso!")).toBeInTheDocument()})}},se=["Default"];export{ee as Default,se as __namedExportsOrder,Z as default};
//# sourceMappingURL=ChangePassword.stories.8c75956e.js.map
