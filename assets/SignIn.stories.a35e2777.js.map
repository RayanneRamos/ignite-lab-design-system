{"version":3,"file":"SignIn.stories.a35e2777.js","sources":["../../src/pages/SignIn/SignIn.tsx"],"sourcesContent":["import { FormEvent, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { Envelope, Lock } from \"phosphor-react\";\nimport { Checkbox } from '../../components/Checkbox/Checkbox';\nimport { Button } from '../../components/Button/Button';\nimport { Heading } from '../../components/Heading/Heading';\nimport { Text } from '../../components/Text/Text';\nimport { TextInput } from '../../components/TextInput/TextInput';\nimport { Logo } from '../../components/Logo/Logo';\n\ninterface IFormInputs {\n  email: string;\n  password: string;\n}\n\nconst schema = yup.object({\n  email: yup.string().required('This field is required').email('The email is in the wrong format'),\n  password: yup.string().required('This field is required')\n}).required();\n\nfunction SignIn() {\n  const [ isUserSignedIn, setIsUserSignedIn ] = useState(false);\n  const navigate = useNavigate();\n  const { register, handleSubmit, formState: { errors } } = useForm<IFormInputs>({\n    resolver: yupResolver(schema),\n    mode: 'all',\n  });\n  const onSubmit = (data: IFormInputs) => console.log(data);\n\n  async function handleSignIn(event: FormEvent) {\n    event.preventDefault();\n\n    await axios.post('/sessions', {\n      email: 'johndoe@example.com',\n      password: '123456789',\n    });\n    \n    setIsUserSignedIn(true);\n    navigate('/');\n  }\n\n  return (\n    <div className='w-screen h-screen bg-gray-900 flex items-center justify-center text-gray-100 flex-col'>\n      <header className='flex flex-col items-center '>\n        <Logo />\n        <Heading size=\"lg\" className='mt-4'>\n          Ignite Lab\n        </Heading>\n        <Text size='lg' className='text-gray-400 mt-1'>\n          Faça login e comece a usar\n        </Text>\n      </header>\n      <form onSubmit={handleSignIn} className='flex flex-col items-stretch w-full max-w-sm mt-10 gap-4'>\n        { isUserSignedIn && <Text>Login realizado!</Text> }\n        <label htmlFor='email' className='flex flex-col gap-3'>\n          <Text className='font-semibold'>Endereço de e-mail</Text>\n          <TextInput.Root>\n            <TextInput.Icon>\n              <Envelope />\n            </TextInput.Icon>\n            <TextInput.Input type='email' id='email' placeholder='Digite seu e-mail' {...register('email')} />\n          </TextInput.Root>\n          <Text className='font-semibold text-red-300'>{errors.password?.message}</Text>\n        </label>\n        <label htmlFor='password' className='flex flex-col gap-3'>\n          <Text className='font-semibold'>Sua senha</Text>\n          <TextInput.Root>\n            <TextInput.Icon>\n              <Lock />\n            </TextInput.Icon>\n            <TextInput.Input type='password' id='password' placeholder='************' {...register('password')} />\n          </TextInput.Root>\n          <Text className='font-semibold text-red-300'>{errors.password?.message}</Text>\n        </label>\n        <label htmlFor='remember' className='flex items-center gap-2'>\n          <Checkbox id='remember' />\n          <Text size='sm' className='text-gray-200'>Lembrar de mim por 30 dias</Text>\n        </label>\n        <Button onClick={handleSubmit(onSubmit)} type='submit' className='mt-4 '>Entrar na plataforma</Button>\n      </form>\n      <footer className='flex flex-col items-center gap-4 mt-8'>\n        <Text asChild size='sm'>\n          <Link to='/forgotpassword' className='text-gray-400 underline hover:text-gray-200'>Esqueceu sua senha</Link>\n        </Text>\n        <Text asChild size='sm'>\n          <Link to='register' className='text-gray-400 underline hover:text-gray-200'>Não possui conta? Crie uma agora</Link>\n        </Text>\n      </footer>\n    </div>\n  );\n}\n\nexport { SignIn };"],"names":["schema","yup","email","required","password","SignIn","isUserSignedIn","setIsUserSignedIn","useState","navigate","useNavigate","register","handleSubmit","formState","errors","useForm","resolver","yupResolver","mode","onSubmit","__name","data","console","log","handleSignIn","event","preventDefault","axios","post","_jsxs","_jsx","Logo","Heading","Text","TextInput","Envelope","message","Lock","Checkbox","Button","Link"],"mappings":"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"}