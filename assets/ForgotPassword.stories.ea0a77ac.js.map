{"version":3,"file":"ForgotPassword.stories.ea0a77ac.js","sources":["../../src/pages/ForgotPassword/ForgotPassword.tsx"],"sourcesContent":["import { FormEvent, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { Envelope } from \"phosphor-react\";\nimport { Button } from \"../../components/Button/Button\";\nimport { Heading } from \"../../components/Heading/Heading\";\nimport { Logo } from \"../../components/Logo/Logo\";\nimport { Text } from \"../../components/Text/Text\";\nimport { TextInput } from \"../../components/TextInput/TextInput\";\n\ninterface IFormInputs {\n  email: string;\n}\n\nconst schema = yup.object({\n  email: yup.string().required('This field is required').email('The email is in the wrong format')\n}).required();\n\nfunction ForgotPassword() {\n  const [ isUserForgotPassword, setIsUserForgotPassword ] = useState(false);\n  const navigate = useNavigate();\n  const { register, handleSubmit, formState: { errors } } = useForm<IFormInputs>({\n    resolver: yupResolver(schema),\n    mode: 'onBlur',\n  });\n  const onSubmit = (data: IFormInputs) => console.log(data);\n\n  async function handleForgotPassword(event: FormEvent) {\n    event.preventDefault();\n\n    await axios.post('/forgotpassword', {\n      email: 'johndoe@example.com',\n    });\n\n    setIsUserForgotPassword(true);\n    navigate('/');\n  }\n\n  return (\n    <div className=\"w-screen h-screen bg-gray-900 flex items-center justify-center text-gray-100 flex-col\">\n      <header className=\"flex flex-col items-center\">\n        <Logo />\n        <Heading size=\"lg\" className=\"mt-4\">\n          Ignite Lab\n        </Heading>\n        <Text size=\"lg\" className=\"text-gray-400\">\n          Esqueceu sua senha\n        </Text>\n      </header>\n      <form onSubmit={handleForgotPassword} className=\"flex flex-col items-stretch w-full max-w-sm mt-10 gap-4\">\n        { isUserForgotPassword && <Text>Link enviado com sucesso!</Text> }\n        <label htmlFor='email' className=\"flex flex-col gap-3\">\n          <Text className=\"font-semibold\">Endereço de e-mail cadastrado</Text>\n          <TextInput.Root>\n            <TextInput.Icon>\n              <Envelope />\n            </TextInput.Icon>\n            <TextInput.Input type='email' id='email' placeholder=\"Digite seu email cadastrado\" {...register('email')} onBlur={handleSubmit(onSubmit)} />\n          </TextInput.Root>\n          <Text className='font-semibold text-red-300'>{errors.email?.message}</Text>\n        </label>\n        <Link to='/changepassword'>\n          <Button type='submit' className=\"mt-4\">Enviar link</Button>\n        </Link>\n      </form>\n      <footer className=\"flex flex-col items-center gap-4 mt-8\">\n        <Text asChild size='sm'>\n          <Link to=\"/\" className=\"text-gray-400 underline hover:text-gray-200\">Possui conta? Faça seu login</Link>\n        </Text>\n        <Text asChild size='sm'>\n          <Link to=\"/register\" className=\"text-gray-400 underline hover:text-gray-200\">Não possui conta? Crie uma agora</Link>\n        </Text>\n      </footer>\n    </div>\n  );\n}\n\nexport { ForgotPassword };"],"names":["schema","yup","email","required","ForgotPassword","isUserForgotPassword","setIsUserForgotPassword","useState","navigate","useNavigate","register","handleSubmit","formState","errors","useForm","resolver","yupResolver","mode","onSubmit","__name","data","console","log","handleForgotPassword","event","preventDefault","axios","post","_jsxs","_jsx","Logo","Heading","Text","TextInput","Envelope","message","Link","Button"],"mappings":"qvBAiBA,MAAMA,EAASC,EAAW,CACxBC,MAAOD,EAAY,EAACE,SAAS,wBAAwB,EAAED,MAAM,kCAAkC,CACjG,CAAC,EAAEC,SAAU,EAEb,SAASC,GAAiB,OACxB,KAAM,CAAEC,EAAsBC,CAAuB,EAAKC,mBAAS,EAAK,EAClEC,EAAWC,IACX,CAAEC,SAAAA,EAAUC,aAAAA,EAAcC,UAAW,CAAEC,OAAAA,CAAO,GAAMC,EAAqB,CAC7EC,SAAUC,EAAYhB,CAAM,EAC5BiB,KAAM,QAAA,CACP,EACKC,EAAWC,EAACC,GAAsBC,QAAQC,IAAIF,CAAI,EAAvC,YAEjB,eAAeG,EAAqBC,EAAkB,CACpDA,EAAMC,eAAgB,EAEhBC,MAAAA,EAAMC,KAAK,kBAAmB,CAClCzB,MAAO,qBAAA,CACR,EAEDI,EAAwB,EAAI,EAC5BE,EAAS,GAAG,CACd,CATee,OAAAA,EAAAA,EAAAA,0BAYb,MAAA,CAAK,UAAU,wFAAuF,SACpG,CAAAK,EAAA,SAAA,CAAQ,UAAU,6BAA4B,SAAA,CAC3CC,EAAAC,EAAO,CAAA,CAAA,IACPC,EAAO,CAAC,KAAK,KAAK,UAAU,OAAM,SAAA,YAAA,CAEzB,EACVF,EAACG,EAAI,CAAC,KAAK,KAAK,UAAU,gBAAe,SAAA,oBAAA,CAElC,CAAA,CAAA,CAAA,EAETJ,EAAA,OAAA,CAAM,SAAUL,EAAsB,UAAU,0DAAyD,SACrGlB,CAAAA,GAAwBwB,EAACG,EAAI,CAAA,SAAA,2BAAA,CAAA,EAC/BJ,EAAA,QAAA,CAAO,QAAQ,QAAQ,UAAU,sBAAqB,SAAA,CACpDC,EAACG,EAAI,CAAC,UAAU,gBAAe,SAAA,kCAAA,CAAA,EAC9BJ,EAAAK,EAAU,KAAI,CAAA,SACb,CAACJ,EAAAI,EAAU,KAAI,CAAA,SACbJ,EAACK,EAAQ,EAAA,CAAA,CAAG,EAEbL,EAAAI,EAAU,MAAK,CAAC,KAAK,QAAQ,GAAG,QAAQ,YAAY,8BAA6B,GAAKvB,EAAS,OAAO,EAAG,OAAQC,EAAaO,CAAQ,CAAA,CAAK,CAAA,CAAA,CAC7H,EACjBW,EAACG,EAAI,CAAC,UAAU,6BAA4B,UAAEnB,EAAAA,EAAOX,QAAPW,YAAAA,EAAcsB,OAAAA,CAAe,CAAA,CAAA,CACrE,EACRN,EAACO,EAAI,CAAC,GAAG,kBAAiB,WACvBC,EAAM,CAAC,KAAK,SAAS,UAAU,OAAM,SAAA,aAAA,CAAA,CAAA,CACjC,CAAA,CAAA,CAAA,EAETT,EAAA,SAAA,CAAQ,UAAU,wCAAuC,SAAA,CACvDC,EAACG,EAAI,CAAC,QAAO,GAAC,KAAK,KAAI,WACpBI,EAAI,CAAC,GAAG,IAAI,UAAU,8CAA6C,SAAA,iCAAA,CAAA,CAAA,CAC/D,EACPP,EAACG,EAAI,CAAC,QAAO,GAAC,KAAK,KAAI,WACpBI,EAAI,CAAC,GAAG,YAAY,UAAU,8CAA6C,SAAA,qCAAA,CAAA,CAAA,CACvE,CAAA,CAAA,CACA,CAAA,CAAA,CACL,CAEV,CAzDShC,EAAAA,EAAAA"}