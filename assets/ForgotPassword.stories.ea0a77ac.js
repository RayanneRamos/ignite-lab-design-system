var x=Object.defineProperty;var r=(a,s)=>x(a,"name",{value:s,configurable:!0});import{r as w}from"./index.686e3c45.js";import{c as y,a as v,u as N,b,L as E,d as n,o as T,e as F,l as P,w as B,f as d,g as j,h as L}from"./index.43cf3e11.js";import{B as D}from"./Button.98f8c281.js";import{H as I}from"./Heading.b3c61242.js";import{T as t}from"./Text.a4697c1d.js";import{T as m}from"./TextInput.ad772a7a.js";import{a as o,j as e}from"./jsx-runtime.e08c5eff.js";import{E as k}from"./Envelope.esm.efd3271f.js";import"./iframe.ce791a42.js";import"./index.364eb4bc.js";import"./index.eca5eaea.js";import"./es.map.constructor.9d75dc7e.js";import"./index.b722782d.js";import"./index.module.10ffe356.js";import"./clsx.m.256e9345.js";import"./IconBase.esm.038ad357.js";const q=y({email:v().required("This field is required").email("The email is in the wrong format")}).required();function S(){var c;const[a,s]=w.exports.useState(!1),i=N(),{register:p,handleSubmit:u,formState:{errors:g}}=b({resolver:T(q),mode:"onBlur"}),h=r(l=>console.log(l),"onSubmit");async function f(l){l.preventDefault(),await F.post("/forgotpassword",{email:"johndoe@example.com"}),s(!0),i("/")}return r(f,"handleForgotPassword"),o("div",{className:"w-screen h-screen bg-gray-900 flex items-center justify-center text-gray-100 flex-col",children:[o("header",{className:"flex flex-col items-center",children:[e(E,{}),e(I,{size:"lg",className:"mt-4",children:"Ignite Lab"}),e(t,{size:"lg",className:"text-gray-400",children:"Esqueceu sua senha"})]}),o("form",{onSubmit:f,className:"flex flex-col items-stretch w-full max-w-sm mt-10 gap-4",children:[a&&e(t,{children:"Link enviado com sucesso!"}),o("label",{htmlFor:"email",className:"flex flex-col gap-3",children:[e(t,{className:"font-semibold",children:"Endere\xE7o de e-mail cadastrado"}),o(m.Root,{children:[e(m.Icon,{children:e(k,{})}),e(m.Input,{type:"email",id:"email",placeholder:"Digite seu email cadastrado",...p("email"),onBlur:u(h)})]}),e(t,{className:"font-semibold text-red-300",children:(c=g.email)==null?void 0:c.message})]}),e(n,{to:"/changepassword",children:e(D,{type:"submit",className:"mt-4",children:"Enviar link"})})]}),o("footer",{className:"flex flex-col items-center gap-4 mt-8",children:[e(t,{asChild:!0,size:"sm",children:e(n,{to:"/",className:"text-gray-400 underline hover:text-gray-200",children:"Possui conta? Fa\xE7a seu login"})}),e(t,{asChild:!0,size:"sm",children:e(n,{to:"/register",className:"text-gray-400 underline hover:text-gray-200",children:"N\xE3o possui conta? Crie uma agora"})})]})]})}r(S,"ForgotPassword");const Y={title:"Pages/Forgot password",component:S,args:{},argTypes:{},parameters:{msw:{handlers:[P.rest.post("/forgotpassword",(a,s,i)=>s(i.json({message:"Link enviado com sucesso!"})))]}}},Z={play:async({canvasElement:a})=>{const s=B(a);d.type(s.getByPlaceholderText("Digite seu email cadastrado"),"johndoe@example.com"),d.type(s.getByPlaceholderText("*********"),"123456789"),await j(()=>{L(s.getByText("Link enviado com sucesso!")).toBeInTheDocument()})}},ee=["Default"];export{Z as Default,ee as __namedExportsOrder,Y as default};
//# sourceMappingURL=ForgotPassword.stories.ea0a77ac.js.map
