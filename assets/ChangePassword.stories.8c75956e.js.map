{"version":3,"file":"ChangePassword.stories.8c75956e.js","sources":["../../src/pages/ChangePassword/ChangePassword.tsx"],"sourcesContent":["import axios from \"axios\";\nimport { useNavigate, Link } from 'react-router-dom';\nimport { Lock } from \"phosphor-react\";\nimport { FormEvent, useState } from \"react\";\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { Button } from \"../../components/Button/Button\";\nimport { Heading } from \"../../components/Heading/Heading\";\nimport { Logo } from \"../../components/Logo/Logo\";\nimport { Text } from \"../../components/Text/Text\";\nimport { TextInput } from \"../../components/TextInput/TextInput\";\n\ninterface IFormInputs {\n  password: string;\n  confirmPassword: string;\n}\n\nconst schema = yup.object({\n  password: yup.string().required('This field is required'),\n  confirmPassword: yup.string().required('This field is required')\n}).required();\n\nfunction ChangePassword() {\n  const [ isUserChangePassword, setIsUserChangePassword ] = useState(false);\n  const navigate = useNavigate();\n  const { register, handleSubmit, formState: { errors } } = useForm<IFormInputs>({\n    resolver: yupResolver(schema),\n    mode: 'onSubmit',\n  });\n  const onSubmit = (data: IFormInputs) => console.log(data);\n\n  async function handleChangePassword(event: FormEvent) {\n    event.preventDefault();\n\n    await axios.put('/changepassword', {\n      password: '123456789',\n      confirmPassword: '123456789',\n    });\n\n    setIsUserChangePassword(true);\n    navigate('/');\n  }\n\n  return (\n    <div className=\"w-screen h-screen bg-gray-900 flex items-center justify-center text-gray-100 flex-col\">\n      <header className=\"flex flex-col items-center\">\n        <Logo />\n        <Heading size='lg' className=\"mt-4\">\n          Ignite Lab\n        </Heading>\n        <Text size='lg' className=\"text-gray-400 mt-1\">\n          Crie uma nova senha\n        </Text>\n      </header>\n      <form onSubmit={handleChangePassword} className=\"flex flex-col items-stretch w-full max-w-sm mt-10 gap-4\">\n        { isUserChangePassword && <Text>Nova senha criada com sucesso!</Text> }\n        <label htmlFor=\"password\" className=\"flex flex-col gap-3\">\n          <Text className=\"font-semibold\">Nova senha</Text>\n          <TextInput.Root>\n            <TextInput.Icon>\n              <Lock />\n            </TextInput.Icon>\n            <TextInput.Input type='password' id='password' placeholder=\"*********\" {...register('password')} />\n          </TextInput.Root>\n          <Text className=\"font-semibold text-red-300\">{errors.password?.message}</Text>\n        </label>\n        <label htmlFor=\"confirmPassword\" className=\"flex flex-col gap-3\">\n          <Text className=\"font-semibold\">Cofirme a nova senha</Text>\n          <TextInput.Root>\n            <TextInput.Icon>\n              <Lock />\n            </TextInput.Icon>\n            <TextInput.Input type='password' id='confirmPassword' placeholder=\"*********\" {...register('confirmPassword')} />\n          </TextInput.Root>\n          <Text className=\"font-semibold text-red-300\">{errors.confirmPassword?.message}</Text>\n        </label>\n        <Button onClick={handleSubmit(onSubmit)} type='submit' className=\"mt-4\">Mudar senha</Button>\n      </form>\n      <footer className=\"flex flex-col items-center gap-4 mt-8\">\n        <Text asChild size='sm'>\n          <Link to='/' className=\"text-gray-400 underline hover:text-gray-200\">Tem conta? Faça login agora</Link>\n        </Text>\n        <Text asChild size='sm'>\n          <Link to='/register' className=\"text-gray-400 underline hover:text-gray-200\">Não possui conta? Crie uma agora</Link>\n        </Text>\n      </footer>\n    </div>\n  );\n}\n\nexport { ChangePassword };"],"names":["schema","yup","password","required","confirmPassword","ChangePassword","isUserChangePassword","setIsUserChangePassword","useState","navigate","useNavigate","register","handleSubmit","formState","errors","useForm","resolver","yupResolver","mode","onSubmit","__name","data","console","log","handleChangePassword","event","preventDefault","axios","put","_jsxs","_jsx","Logo","Heading","Text","TextInput","Lock","message","Button","Link"],"mappings":"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"}